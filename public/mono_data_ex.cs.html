<!DOCTYPE html  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>test.cs</title>
<meta name="GENERATOR" content="SciTE - www.Scintilla.org" />
<style type="text/css">
.S0 {
	color: #808080;
	background: #FFFFFF;
}
.S4 {
	color: #007F7F;
	background: #FFFFFF;
}
.S5 {
	font-weight: bold;
	color: #00007F;
	background: #FFFFFF;
}
.S6 {
	color: #7F007F;
	background: #FFFFFF;
}
.S10 {
	font-weight: bold;
	color: #000000;
	background: #FFFFFF;
}
.S15 {
	font-family: 'Courier New';
	color: #3F703F;
	background: #FFFFFF;
	font-size: 10pt;
}
span {
	font-family: 'Courier New';
	color: #000000;
	background: #FFFFFF;
	font-size: 10pt;
}
</style>
</head>
<body bgcolor="#FFFFFF">
<span><span class="S5">using</span><span class="S0"> </span>System<span class="S10">;</span><br />
<span class="S5">using</span><span class="S0"> </span>System<span class="S10">.</span>Data<span class="S10">;</span><br />
<span class="S5">using</span><span class="S0"> </span>Mono<span class="S10">.</span>Data<span class="S10">;</span><br />
<br />
<span class="S5">namespace</span><span class="S0"> </span>testclient<br />
<span class="S10">{</span><br />
<span class="S0">&nbsp; &nbsp; </span><span class="S15">/// &lt;summary&gt;</span><br />
<span class="S0">&nbsp; &nbsp; </span><span class="S15">/// Summary description for Class1.</span><br />
<span class="S0">&nbsp; &nbsp; </span><span class="S15">/// &lt;/summary&gt;</span><br />
<span class="S0">&nbsp; &nbsp; </span><span class="S5">class</span><span class="S0"> </span>Class1<br />
<span class="S0">&nbsp; &nbsp; </span><span class="S10">{</span><br />
<br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="S5">public</span><span class="S0"> </span><span class="S5">static</span><span class="S0"> </span><span class="S5">void</span><span class="S0"> </span>TestProviderFactory<span class="S10">()</span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="S10">{</span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp;  &nbsp;&nbsp; </span>Console<span class="S10">.</span>WriteLine<span class="S10">(</span><span class="S6">"Configured Providers:"</span><span class="S10">);</span><span class="S0">&nbsp;</span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="S5">foreach</span><span class="S0"> </span><span class="S10">(</span>Provider<span class="S0"> </span>p<span class="S0"> </span><span class="S5">in</span><span class="S0"> </span>ProviderFactory<span class="S10">.</span>Providers<span class="S10">)</span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>Console<span class="S10">.</span>WriteLine<span class="S10">(</span>p<span class="S10">.</span>Description<span class="S10">);</span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>Console<span class="S10">.</span>WriteLine<span class="S10">();</span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>Console<span class="S10">.</span>WriteLine<span class="S10">(</span><span class="S6">"Connection Factory Test:"</span><span class="S10">);</span><span class="S0">&nbsp; </span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>Console<span class="S10">.</span>WriteLine<span class="S10">(</span><span class="S6">"Get Connection using PubsConnStr in app.config"</span><span class="S10">);</span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>IDbConnection<span class="S0"> </span>conn<span class="S10">=</span>ProviderFactory<span class="S10">.</span>CreateConnectionFromConfig<span class="S10">(</span><span class="S6">"PubsConnStr"</span><span class="S10">);</span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp;</span>Console<span class="S10">.</span>WriteLine<span class="S10">(</span><span class="S6">"Open Connection"</span><span class="S10">);</span><span class="S0">&nbsp; &nbsp;</span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>conn<span class="S10">.</span>Open<span class="S10">();</span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>IDbCommand<span class="S0"> </span>cmd<span class="S10">=</span>conn<span class="S10">.</span>CreateCommand<span class="S10">();</span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>cmd<span class="S10">.</span>CommandText<span class="S10">=</span><span class="S6">"select * from authors"</span><span class="S10">;</span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>IDataReader<span class="S0"> </span>reader<span class="S10">=</span>cmd<span class="S10">.</span>ExecuteReader<span class="S10">();</span><span class="S0">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>reader<span class="S10">.</span>Read<span class="S10">();</span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>Console<span class="S10">.</span>WriteLine<span class="S10">(</span>reader<span class="S10">[</span><span class="S4">0</span><span class="S10">].</span>ToString<span class="S10">());</span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>Console<span class="S10">.</span>ReadLine<span class="S10">();</span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="S10">}</span><br />
<br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="S15">/// &lt;summary&gt;</span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="S15">/// The main entry point for the application.</span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="S15">/// &lt;/summary&gt;</span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="S10">[</span>STAThread<span class="S10">]</span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="S5">static</span><span class="S0"> </span><span class="S5">void</span><span class="S0"> </span>Main<span class="S10">(</span><span class="S5">string</span><span class="S10">[]</span><span class="S0"> </span>args<span class="S10">)</span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="S10">{</span><br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>TestProviderFactory<span class="S10">();</span><br />
<br />
<span class="S0">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="S10">}</span><br />
<span class="S0">&nbsp; &nbsp; </span><span class="S10">}</span><br />
<span class="S10">}</span><br />
<span class="S0"></span></span>
</body>
</html>
