<!DOCTYPE html  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>jscript.js</title>
<meta name="GENERATOR" content="SciTE - www.Scintilla.org" />
<style type="text/css">
.S0 {
	color: #808080;
	background: #FFFFFF;
}
.S3 {
	font-family: 'Courier New';
	color: #3F703F;
	background: #FFFFFF;
	font-size: 10pt;
}
.S4 {
	color: #007F7F;
	background: #FFFFFF;
}
.S5 {
	font-weight: bold;
	color: #00007F;
	background: #FFFFFF;
}
.S6 {
	color: #7F007F;
	background: #FFFFFF;
}
.S7 {
	color: #7F007F;
	background: #FFFFFF;
}
.S10 {
	font-weight: bold;
	color: #000000;
	background: #FFFFFF;
}
.S14 {
	font-family: 'Courier New';
	color: #3F7F3F;
	background: #E0F0FF;
	font-size: 10pt;
}
.S18 {
	font-family: 'Courier New';
	color: #804020;
	background: #FFFFFF;
	font-size: 10pt;
}
span {
	font-family: 'Courier New';
	color: #000000;
	background: #FFFFFF;
	font-size: 10pt;
}
</style>
</head>
<body bgcolor="#FFFFFF">
<span><span class="S3">/**</span><br />
<span class="S3">&nbsp;* Copyright (c) 2004, Evain Jb (jb</span><span class="S18">@evain</span><span class="S3">.net)</span><br />
<span class="S3">&nbsp;* All rights reserved.</span><br />
<span class="S3">&nbsp;*</span><br />
<span class="S3">&nbsp;* Redistribution and use in source and binary forms, with or without</span><br />
<span class="S3">&nbsp;* modification, are permitted provided that the following conditions are met:</span><br />
<span class="S3">&nbsp;*</span><br />
<span class="S3">&nbsp;* &nbsp;&nbsp;&nbsp;&nbsp;- Redistributions of source code must retain the above copyright</span><br />
<span class="S3">&nbsp;* &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notice, this list of conditions and the following disclaimer.</span><br />
<span class="S3">&nbsp;* &nbsp;&nbsp;&nbsp;&nbsp;- Redistributions in binary form must reproduce the above copyright</span><br />
<span class="S3">&nbsp;* &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;notice, this list of conditions and the following disclaimer in the</span><br />
<span class="S3">&nbsp;* &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;documentation and/or other materials provided with the distribution.</span><br />
<span class="S3">&nbsp;* &nbsp;&nbsp;&nbsp;&nbsp;- Neither the name of Evain Jb nor the names of its contributors may</span><br />
<span class="S3">&nbsp;* &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be used to endorse or promote products derived from this software</span><br />
<span class="S3">&nbsp;* &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;without specific prior written permission.</span><br />
<span class="S3">&nbsp;*</span><br />
<span class="S3">&nbsp;* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"</span><br />
<span class="S3">&nbsp;* AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span><br />
<span class="S3">&nbsp;* IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</span><br />
<span class="S3">&nbsp;* ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE</span><br />
<span class="S3">&nbsp;* LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR</span><br />
<span class="S3">&nbsp;* CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF</span><br />
<span class="S3">&nbsp;* SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS</span><br />
<span class="S3">&nbsp;* INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN</span><br />
<span class="S3">&nbsp;* CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)</span><br />
<span class="S3">&nbsp;* ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</span><br />
<span class="S3">&nbsp;* POSSIBILITY OF SUCH DAMAGE.</span><br />
<span class="S3">&nbsp;*</span><br />
<span class="S3">&nbsp;* Bibliotheque rajoutant des fonctionnalités au langage Javascript</span><br />
<span class="S3">&nbsp;* </span><span class="S18">@author</span><span class="S3"> jbe</span><br />
<span class="S3">&nbsp;*</span><br />
<span class="S3">&nbsp;*****************************************************************************/</span><br />
<br />
<span class="S3">/**</span><br />
<span class="S3">&nbsp;* Constantes</span><br />
<span class="S3">&nbsp;*/</span><br />
TYPE_BOOLEAN<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S6">"boolean"</span><span class="S10">;</span><br />
TYPE_NUMBER<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S6">"number"</span><span class="S10">;</span><br />
TYPE_FUNCTION<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S6">"function"</span><span class="S10">;</span><br />
TYPE_STRING<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S6">"string"</span><span class="S10">;</span><br />
TYPE_OBJECT<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S6">"object"</span><span class="S10">;</span><br />
TYPE_UNDEFINED<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S6">"undefined"</span><span class="S10">;</span><br />
<br />
METHOD_CLONE<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S6">"clone"</span><span class="S10">;</span><br />
<br />
TRUE<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S6">"true"</span><span class="S10">;</span><br />
FALSE<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S6">"false"</span><span class="S10">;</span><br />
NULL<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S6">"null"</span><span class="S10">;</span><br />
<br />
<span class="S3">/**</span><br />
<span class="S3">* Clone l'object</span><br />
<span class="S3">*/</span><br />
Object<span class="S10">.</span>prototype<span class="S10">.</span>clone<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">()</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">var</span><span class="S0"> </span>nObj<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">new</span><span class="S0"> </span>Object<span class="S10">();</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">for</span><span class="S0"> </span><span class="S10">(</span><span class="S5">var</span><span class="S0"> </span>slot<span class="S0"> </span><span class="S5">in</span><span class="S0"> </span><span class="S5">this</span><span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">if</span><span class="S0"> </span><span class="S10">(</span>slot<span class="S0"> </span><span class="S10">!=</span><span class="S0"> </span>METHOD_CLONE<span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">var</span><span class="S0"> </span>type<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">typeof</span><span class="S10">(</span><span class="S5">this</span><span class="S10">[</span>slot<span class="S10">]);</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">switch</span><span class="S0"> </span><span class="S10">(</span>type<span class="S10">.</span>toString<span class="S10">())</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">case</span><span class="S0"> </span>TYPE_BOOLEAN<span class="S0"> </span><span class="S10">:</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">case</span><span class="S0"> </span>TYPE_NUMBER<span class="S0"> </span><span class="S10">:</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">case</span><span class="S0"> </span>TYPE_FUNCTION<span class="S0"> </span><span class="S10">:</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>nObj<span class="S10">[</span>slot<span class="S10">]</span><span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">this</span><span class="S10">[</span>slot<span class="S10">];</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">break</span><span class="S10">;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">case</span><span class="S0"> </span>TYPE_STRING<span class="S0"> </span><span class="S10">:</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>nObj<span class="S10">[</span>slot<span class="S10">]</span><span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">new</span><span class="S0"> </span>String<span class="S10">(</span><span class="S5">this</span><span class="S10">[</span>slot<span class="S10">]);</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">break</span><span class="S10">;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">case</span><span class="S0"> </span>TYPE_OBJECT<span class="S0"> </span><span class="S10">:</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">if</span><span class="S0"> </span><span class="S10">(</span><span class="S5">this</span><span class="S10">[</span>slot<span class="S10">]</span><span class="S0"> </span><span class="S10">!=</span><span class="S0"> </span>null<span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">if</span><span class="S0"> </span><span class="S10">(</span><span class="S5">this</span><span class="S10">[</span>slot<span class="S10">]</span><span class="S0"> </span><span class="S5">instanceof</span><span class="S0"> </span>Array<span class="S0"> </span><span class="S10">||</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">this</span><span class="S10">[</span>slot<span class="S10">]</span><span class="S0"> </span><span class="S5">instanceof</span><span class="S0"> </span>Date<span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>nObj<span class="S10">[</span>slot<span class="S10">]</span><span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">this</span><span class="S10">[</span>slot<span class="S10">].</span>clone<span class="S10">();</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><span class="S0"> </span><span class="S5">else</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>nObj<span class="S10">[</span>slot<span class="S10">]</span><span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">this</span><span class="S10">[</span>slot<span class="S10">];</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><span class="S0"> </span><span class="S5">else</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>nObj<span class="S10">[</span>slot<span class="S10">]</span><span class="S0"> </span><span class="S10">=</span><span class="S0"> </span>null<span class="S10">;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">case</span><span class="S0"> </span>TYPE_UNDEFINED<span class="S0"> </span><span class="S10">:</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">default</span><span class="S0"> </span><span class="S10">:</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">continue</span><span class="S10">;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span>nObj<span class="S10">;</span><br />
<span class="S10">}</span><br />
<br />
<span class="S3">/**</span><br />
<span class="S3">* Constante chaine vide</span><br />
<span class="S3">*/</span><br />
String<span class="S10">.</span>empty<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S6">""</span><span class="S10">;</span><br />
<br />
<span class="S3">/**</span><br />
<span class="S3">* Teste si la chaine commence par le parametre</span><br />
<span class="S3">*/</span><br />
String<span class="S10">.</span>prototype<span class="S10">.</span>startsWith<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">(</span>str<span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span>str<span class="S0"> </span><span class="S10">!=</span><span class="S0"> </span>null<span class="S0"> </span><span class="S10">&amp;&amp;</span><span class="S0"> </span>str<span class="S0"> </span><span class="S10">!=</span><span class="S0"> </span>String<span class="S10">.</span>empty<span class="S0"> </span><span class="S10">&amp;&amp;</span><span class="S0"> </span><span class="S10">!</span><span class="S5">this</span><span class="S10">.</span>indexOf<span class="S10">(</span>str<span class="S10">);</span><br />
<span class="S10">}</span><br />
<br />
<span class="S3">/**</span><br />
<span class="S3">* Teste si la chaine fini par le parametre</span><br />
<span class="S3">*/</span><br />
String<span class="S10">.</span>prototype<span class="S10">.</span>endsWith<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">(</span>str<span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">var</span><span class="S0"> </span>index<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>lastIndexOf<span class="S10">(</span>str<span class="S10">);</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span>str<span class="S0"> </span><span class="S10">!=</span><span class="S0"> </span>null<span class="S0"> </span><span class="S10">&amp;&amp;</span><span class="S0"> </span>str<span class="S0"> </span><span class="S10">!=</span><span class="S0"> </span>String<span class="S10">.</span>empty<span class="S0"> </span><span class="S10">&amp;&amp;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>index<span class="S0"> </span><span class="S10">!=</span><span class="S0"> </span><span class="S10">-</span><span class="S4">1</span><span class="S0"> </span><span class="S10">&amp;&amp;</span><span class="S0"> </span>index<span class="S0"> </span><span class="S10">+</span><span class="S0"> </span>str<span class="S10">.</span>length<span class="S0"> </span><span class="S10">==</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>length<span class="S10">;</span><br />
<span class="S10">}</span><br />
<br />
<span class="S3">/**</span><br />
<span class="S3">* Supprime les espaces en debut et fin de la chaine</span><br />
<span class="S3">*/</span><br />
String<span class="S10">.</span>prototype<span class="S10">.</span>trim<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">()</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>replace<span class="S10">(</span><span class="S14">/^\s*([\s\S]*\S+)\s*$|^\s*$/</span><span class="S10">,</span><span class="S0"> </span><span class="S7">'$1'</span><span class="S10">);</span><br />
<span class="S10">}</span><br />
<br />
<span class="S3">/**</span><br />
<span class="S3">* Parse la chaine en un booleen</span><br />
<span class="S3">*/</span><br />
String<span class="S10">.</span>prototype<span class="S10">.</span>toBoolean<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">()</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>toLowerCase<span class="S10">()</span><span class="S0"> </span><span class="S10">==</span><span class="S0"> </span>TRUE<span class="S10">;</span><br />
<span class="S10">}</span><br />
<br />
<span class="S3">/**</span><br />
<span class="S3">* Retourne la position de la premiere occurence de la valeur</span><br />
<span class="S3">* sinon -1</span><br />
<span class="S3">*/</span><br />
Array<span class="S10">.</span>prototype<span class="S10">.</span>indexOf<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">(</span>value<span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">var</span><span class="S0"> </span>length<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>length<span class="S10">;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">for</span><span class="S0"> </span><span class="S10">(</span><span class="S5">var</span><span class="S0"> </span>i<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S4">0</span><span class="S0"> </span><span class="S10">;</span><span class="S0"> </span>i<span class="S0"> </span><span class="S10">&lt;</span><span class="S0"> </span>length<span class="S0"> </span><span class="S10">;</span><span class="S0"> </span>i<span class="S10">++)</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">if</span><span class="S0"> </span><span class="S10">(</span><span class="S5">this</span><span class="S10">[</span>i<span class="S10">]</span><span class="S0"> </span><span class="S10">==</span><span class="S0"> </span>value<span class="S0"> </span><span class="S10">)</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span>i<span class="S10">;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span><span class="S10">-</span><span class="S4">1</span><span class="S10">;</span><br />
<span class="S10">}</span><br />
<br />
<span class="S3">/**</span><br />
<span class="S3">* Retourne la position de la derniere occurence de la valeur</span><br />
<span class="S3">* sinon -1</span><br />
<span class="S3">*/</span><br />
Array<span class="S10">.</span>prototype<span class="S10">.</span>lastIndexOf<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">(</span>value<span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">var</span><span class="S0"> </span>length<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>length<span class="S10">;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">for</span><span class="S0"> </span><span class="S10">(</span><span class="S5">var</span><span class="S0"> </span>i<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span>length<span class="S0"> </span><span class="S10">-</span><span class="S0"> </span><span class="S4">1</span><span class="S0"> </span><span class="S10">;</span><span class="S0"> </span>i<span class="S0"> </span><span class="S10">&gt;=</span><span class="S0"> </span><span class="S4">0</span><span class="S0"> </span><span class="S10">;</span><span class="S0"> </span>i<span class="S10">--)</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">if</span><span class="S0"> </span><span class="S10">(</span><span class="S5">this</span><span class="S10">[</span>i<span class="S10">]</span><span class="S0"> </span><span class="S10">==</span><span class="S0"> </span>value<span class="S10">)</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span>i<span class="S10">;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span><span class="S10">-</span><span class="S4">1</span><span class="S10">;</span><br />
<span class="S10">}</span><br />
<br />
<span class="S3">/**</span><br />
<span class="S3">* Teste la présence d'une valeur dans un tableau</span><br />
<span class="S3">*/</span><br />
Array<span class="S10">.</span>prototype<span class="S10">.</span>contains<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">(</span>value<span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>indexOf<span class="S10">(</span>value<span class="S10">)</span><span class="S0"> </span><span class="S10">!=</span><span class="S0"> </span><span class="S10">-</span><span class="S4">1</span><span class="S10">;</span><br />
<span class="S10">}</span><br />
<br />
<span class="S3">/**</span><br />
<span class="S3">* Supprime un indice du tableau</span><br />
<span class="S3">* Plus efficace que delete car resize le tableau</span><br />
<span class="S3">*/</span><br />
Array<span class="S10">.</span>prototype<span class="S10">.</span>removeAt<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">(</span>index<span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">if</span><span class="S0"> </span><span class="S10">(</span>index<span class="S0"> </span><span class="S10">&gt;=</span><span class="S0"> </span><span class="S4">0</span><span class="S0"> </span><span class="S10">&amp;&amp;</span><span class="S0"> </span>index<span class="S0"> </span><span class="S10">&lt;=</span><span class="S0"> </span><span class="S10">(</span><span class="S5">this</span><span class="S10">.</span>length<span class="S0"> </span><span class="S10">/</span><span class="S0"> </span><span class="S4">2</span><span class="S10">))</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">for</span><span class="S0"> </span><span class="S10">(</span><span class="S5">var</span><span class="S0"> </span>i<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span>index<span class="S0"> </span><span class="S10">;</span><span class="S0"> </span>i<span class="S0"> </span><span class="S10">&gt;=</span><span class="S0"> </span><span class="S4">0</span><span class="S0"> </span><span class="S10">;</span><span class="S0"> </span>i<span class="S10">--)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">if</span><span class="S0"> </span><span class="S10">(</span>i<span class="S0"> </span><span class="S10">!=</span><span class="S0"> </span><span class="S4">0</span><span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">this</span><span class="S10">[</span>i<span class="S10">]</span><span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">this</span><span class="S10">[</span>i<span class="S0"> </span><span class="S10">-</span><span class="S0"> </span><span class="S4">1</span><span class="S10">];</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><span class="S0"> </span><span class="S5">else</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">this</span><span class="S10">.</span>shift<span class="S10">();</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span>true<span class="S10">;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><span class="S0"> </span><span class="S5">else</span><span class="S0"> </span><span class="S5">if</span><span class="S0"> </span><span class="S10">(</span>index<span class="S0"> </span><span class="S10">&gt;</span><span class="S0"> </span><span class="S10">(</span><span class="S5">this</span><span class="S10">.</span>length<span class="S0"> </span><span class="S10">/</span><span class="S0"> </span><span class="S4">2</span><span class="S10">))</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">for</span><span class="S0"> </span><span class="S10">(</span><span class="S5">var</span><span class="S0"> </span>i<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span>index<span class="S0"> </span><span class="S10">;</span><span class="S0"> </span>i<span class="S0"> </span><span class="S10">&lt;</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>length<span class="S0"> </span><span class="S10">;</span><span class="S0"> </span>i<span class="S10">++)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">if</span><span class="S0"> </span><span class="S10">(</span>i<span class="S0"> </span><span class="S10">!=</span><span class="S0"> </span><span class="S10">(</span><span class="S5">this</span><span class="S10">.</span>length<span class="S0"> </span><span class="S10">-</span><span class="S0"> </span><span class="S4">1</span><span class="S10">))</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">this</span><span class="S10">[</span>i<span class="S10">]</span><span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">this</span><span class="S10">[</span>i<span class="S0"> </span><span class="S10">+</span><span class="S0"> </span><span class="S4">1</span><span class="S10">];</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><span class="S0"> </span><span class="S5">else</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">this</span><span class="S10">.</span>pop<span class="S10">();</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span>true<span class="S10">;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span>false<span class="S10">;</span><br />
<span class="S10">}</span><br />
<br />
<span class="S3">/**</span><br />
<span class="S3">* Supprime la valeur du tableau</span><br />
<span class="S3">*/</span><br />
Array<span class="S10">.</span>prototype<span class="S10">.</span>remove<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">(</span>valeur<span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">while</span><span class="S0"> </span><span class="S10">(</span><span class="S5">this</span><span class="S10">.</span>indexOf<span class="S10">(</span>valeur<span class="S10">)</span><span class="S0"> </span><span class="S10">!=</span><span class="S0"> </span><span class="S10">-</span><span class="S4">1</span><span class="S10">)</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">if</span><span class="S0"> </span><span class="S10">(!</span><span class="S5">this</span><span class="S10">.</span>removeAt<span class="S10">(</span><span class="S5">this</span><span class="S10">.</span>indexOf<span class="S10">(</span>valeur<span class="S10">)))</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span>false<span class="S10">;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span>true<span class="S10">;</span><br />
<span class="S10">}</span><br />
<br />
<span class="S3">/**</span><br />
<span class="S3">* Renvoie la dernière valeur du tableau</span><br />
<span class="S3">*/</span><br />
Array<span class="S10">.</span>prototype<span class="S10">.</span>peek<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">()</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span><span class="S5">this</span><span class="S10">[</span><span class="S5">this</span><span class="S10">.</span>length<span class="S0"> </span><span class="S10">-</span><span class="S0"> </span><span class="S4">1</span><span class="S10">];</span><br />
<span class="S10">}</span><br />
<br />
<span class="S3">/**</span><br />
<span class="S3">* Appelle une fonction pour chaque element</span><br />
<span class="S3">* du tableau</span><br />
<span class="S3">*/</span><br />
Array<span class="S10">.</span>prototype<span class="S10">.</span>each<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">(</span>functor<span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">for</span><span class="S0"> </span><span class="S10">(</span><span class="S5">var</span><span class="S0"> </span>i<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S4">0</span><span class="S0"> </span><span class="S10">;</span><span class="S0"> </span>i<span class="S0"> </span><span class="S10">&lt;</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>length<span class="S0"> </span><span class="S10">;</span><span class="S0"> </span>i<span class="S10">++)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>functor<span class="S10">(</span><span class="S5">this</span><span class="S10">[</span>i<span class="S10">]);</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<span class="S10">}</span><br />
<br />
<span class="S3">/**</span><br />
<span class="S3">* Equivalent du each avec l'index passé</span><br />
<span class="S3">*/</span><br />
Array<span class="S10">.</span>prototype<span class="S10">.</span>eachWithIndex<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">(</span>functor<span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">for</span><span class="S0"> </span><span class="S10">(</span><span class="S5">var</span><span class="S0"> </span>i<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S4">0</span><span class="S0"> </span><span class="S10">;</span><span class="S0"> </span>i<span class="S0"> </span><span class="S10">&lt;</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>length<span class="S0"> </span><span class="S10">;</span><span class="S0"> </span>i<span class="S10">++)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>functor<span class="S10">(</span><span class="S5">this</span><span class="S10">[</span>i<span class="S10">],</span><span class="S0"> </span>i<span class="S10">);</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<span class="S10">}</span><br />
<br />
<span class="S3">/**</span><br />
<span class="S3">* Clone le tableau</span><br />
<span class="S3">*/</span><br />
Array<span class="S10">.</span>prototype<span class="S10">.</span>clone<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">()</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">var</span><span class="S0"> </span>length<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>length<span class="S10">;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">var</span><span class="S0"> </span>nAry<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">new</span><span class="S0"> </span>Array<span class="S10">(</span>length<span class="S10">);</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">for</span><span class="S0"> </span><span class="S10">(</span><span class="S5">var</span><span class="S0"> </span>i<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S4">0</span><span class="S0"> </span><span class="S10">;</span><span class="S0"> </span>i<span class="S0"> </span><span class="S10">&lt;</span><span class="S0"> </span>length<span class="S0"> </span><span class="S10">;</span><span class="S0"> </span>i<span class="S10">++)</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>nAry<span class="S10">[</span>i<span class="S10">]</span><span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">this</span><span class="S10">[</span>i<span class="S10">];</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span>nAry<span class="S10">;</span><br />
<span class="S10">}</span><br />
<br />
<span class="S3">/**</span><br />
<span class="S3">&nbsp;* Clone la date</span><br />
<span class="S3">&nbsp;*/</span><br />
Date<span class="S10">.</span>prototype<span class="S10">.</span>clone<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">()</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span><span class="S5">new</span><span class="S0"> </span>Date<span class="S10">(</span><span class="S5">this</span><span class="S10">.</span>getTime<span class="S10">());</span><br />
<span class="S10">}</span><br />
<br />
<span class="S3">/**</span><br />
<span class="S3">&nbsp;* Hashtable : tableau associatif</span><br />
<span class="S3">&nbsp;*/</span><br />
<span class="S5">function</span><span class="S0"> </span>Hashtable<span class="S10">()</span><span class="S0"> </span><span class="S10">{</span><br />
<br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">this</span><span class="S10">.</span>container<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">new</span><span class="S0"> </span>Object<span class="S10">();</span><br />
<br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S3">/**</span><br />
<span class="S3">&nbsp;&nbsp;&nbsp;&nbsp;* Rajoute une valeur pour la clef</span><br />
<span class="S3">&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">this</span><span class="S10">.</span>put<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">(</span>key<span class="S10">,</span><span class="S0"> </span>value<span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">this</span><span class="S10">.</span>container<span class="S10">[</span>key<span class="S10">]</span><span class="S0"> </span><span class="S10">=</span><span class="S0"> </span>value<span class="S10">;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S3">/**</span><br />
<span class="S3">&nbsp;&nbsp;&nbsp;&nbsp;* Retourne la valeur pour la clef</span><br />
<span class="S3">&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">this</span><span class="S10">.</span>get<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">(</span>key<span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>container<span class="S10">[</span>key<span class="S10">];</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S3">/**</span><br />
<span class="S3">&nbsp;&nbsp;&nbsp;&nbsp;* Retourne la taille de la hashtable</span><br />
<span class="S3">&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">this</span><span class="S10">.</span>size<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">()</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">var</span><span class="S0"> </span>i<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S4">0</span><span class="S10">;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">for</span><span class="S0"> </span><span class="S10">(</span><span class="S5">var</span><span class="S0"> </span>slot<span class="S0"> </span><span class="S5">in</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>container<span class="S10">)</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">if</span><span class="S0"> </span><span class="S10">(</span>slot<span class="S0"> </span><span class="S10">!=</span><span class="S0"> </span>METHOD_CLONE<span class="S10">)</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>i<span class="S10">++;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span>i<span class="S10">;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">this</span><span class="S10">.</span>length<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>size<span class="S10">;</span><br />
<br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S3">/**</span><br />
<span class="S3">&nbsp;&nbsp;&nbsp;&nbsp;* Teste la présence d'une clef dans la hashtable</span><br />
<span class="S3">&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">this</span><span class="S10">.</span>containsKey<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">(</span>key<span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>container<span class="S10">.</span>hasOwnProperty<span class="S10">(</span>key<span class="S10">);</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S3">/**</span><br />
<span class="S3">&nbsp;&nbsp;&nbsp;&nbsp;* Teste la présence d'une valeur dans la hashtable</span><br />
<span class="S3">&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">this</span><span class="S10">.</span>containsValue<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">(</span>value<span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">for</span><span class="S0"> </span><span class="S10">(</span><span class="S5">var</span><span class="S0"> </span>slot<span class="S0"> </span><span class="S5">in</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>container<span class="S10">)</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">if</span><span class="S0"> </span><span class="S10">(</span>slot<span class="S0"> </span><span class="S10">!=</span><span class="S0"> </span>METHOD_CLONE<span class="S0"> </span><span class="S10">&amp;&amp;</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>container<span class="S10">[</span>slot<span class="S10">]</span><span class="S0"> </span><span class="S10">==</span><span class="S0"> </span>value<span class="S10">)</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span>true<span class="S10">;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span>false<span class="S10">;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S3">/**</span><br />
<span class="S3">&nbsp;&nbsp;&nbsp;&nbsp;* Teste la présence d'un couple clef valeur dans la hashtable</span><br />
<span class="S3">&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">this</span><span class="S10">.</span>contains<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">(</span>key<span class="S10">,</span><span class="S0"> </span>value<span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>container<span class="S10">[</span>key<span class="S10">]</span><span class="S0"> </span><span class="S10">==</span><span class="S0"> </span>value<span class="S10">;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S3">/**</span><br />
<span class="S3">&nbsp;&nbsp;&nbsp;&nbsp;* Retourne un tableau des clefs</span><br />
<span class="S3">&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">this</span><span class="S10">.</span>getKeys<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">()</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">var</span><span class="S0"> </span>keys<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">new</span><span class="S0"> </span>Array<span class="S10">();</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">for</span><span class="S0"> </span><span class="S10">(</span><span class="S5">var</span><span class="S0"> </span>slot<span class="S0"> </span><span class="S5">in</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>container<span class="S10">)</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">if</span><span class="S0"> </span><span class="S10">(</span>slot<span class="S0"> </span><span class="S10">!=</span><span class="S0"> </span>METHOD_CLONE<span class="S10">)</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>keys<span class="S10">.</span>push<span class="S10">(</span>slot<span class="S10">);</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span>keys<span class="S10">;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S3">/**</span><br />
<span class="S3">&nbsp;&nbsp;&nbsp;&nbsp;* Retourne un tableau des valeurs</span><br />
<span class="S3">&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">this</span><span class="S10">.</span>getValues<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">()</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">var</span><span class="S0"> </span>values<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">new</span><span class="S0"> </span>Array<span class="S10">();</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">for</span><span class="S0"> </span><span class="S10">(</span><span class="S5">var</span><span class="S0"> </span>slot<span class="S0"> </span><span class="S5">in</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>container<span class="S10">)</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">if</span><span class="S0"> </span><span class="S10">(</span>slot<span class="S0"> </span><span class="S10">!=</span><span class="S0"> </span>METHOD_CLONE<span class="S10">)</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>values<span class="S10">.</span>push<span class="S10">(</span><span class="S5">this</span><span class="S10">.</span>container<span class="S10">[</span>slot<span class="S10">]);</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">return</span><span class="S0"> </span>values<span class="S10">;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S3">/**</span><br />
<span class="S3">&nbsp;&nbsp;&nbsp;&nbsp;* Appelle une fonction pour chaque</span><br />
<span class="S3">&nbsp;&nbsp;&nbsp;&nbsp;* paire de clef/valeur</span><br />
<span class="S3">&nbsp;&nbsp;&nbsp;&nbsp;*/</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">this</span><span class="S10">.</span>each<span class="S0"> </span><span class="S10">=</span><span class="S0"> </span><span class="S5">function</span><span class="S10">(</span>functor<span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">for</span><span class="S0"> </span><span class="S10">(</span><span class="S5">var</span><span class="S0"> </span>slot<span class="S0"> </span><span class="S5">in</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>container<span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S5">if</span><span class="S0"> </span><span class="S10">(</span>slot<span class="S0"> </span><span class="S10">!=</span><span class="S0"> </span>METHOD_CLONE<span class="S10">)</span><span class="S0"> </span><span class="S10">{</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>functor<span class="S10">(</span>slot<span class="S10">,</span><span class="S0"> </span><span class="S5">this</span><span class="S10">.</span>container<span class="S10">[</span>slot<span class="S10">]);</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<span class="S0">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="S10">}</span><br />
<span class="S10">}</span><br />
<span class="S0"></span></span>
</body>
</html>
